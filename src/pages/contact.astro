---
import Layout from '../layouts/Layout.astro';
---

<Layout title="Contact">
  <section class="bg-gradient-to-r from-primary-dark to-primary p-6 rounded-xl shadow-lg max-w-xl mx-auto animate-fade-in text-texte">
    <h2 class="text-3xl font-bold mb-6 text-center text-white">Contactez-nous</h2>

  <form id="contact-form" class="space-y-4">
      <!-- Nom -->
  <label class="block">
    <span class="block mb-1"><b class="text-white">Nom</b></span>
    <input type="text" name="name" required class="w-full p-2 rounded text-black" />
  </label>

  <!-- Email -->
  <label class="block">
    <span class="block mb-1"><b class="text-white">Email</b></span>
    <input type="email" name="email" required class="w-full p-2 rounded text-black" />
  </label>

  <!-- Téléphone -->
  <label class="block">
    <span class="block mb-1"><b class="text-white">Téléphone</b></span>
    <input type="tel" name="telephone" required class="w-full p-2 rounded text-black" />
  </label>

  <!-- Type de contact -->
  <label class="block">
    <span class="block mb-1"><b class="text-white">Vous êtes :</b></span>
    <select name="type" required class="w-full p-2 rounded text-black">
      <option value="" disabled selected hidden>Choisissez une option</option>
      <option value="particulier">Particulier</option>
      <option value="societe">Société</option>
      <option value="collectivite">Collectivité</option>
    </select>
  </label>

  <!-- Message -->
  <label class="block">
    <span class="block mb-1"><b class="text-white">Message</b></span>
    <textarea name="message" rows="5" required class="w-full p-2 rounded text-black"></textarea>
  </label>

  <!-- Bouton -->
  <button type="submit" class="bg-white text-primary font-bold px-6 py-2 rounded hover:bg-green-100 transition duration-300 ease-in-out w-full">
    Envoyer
  </button>
  </form>

  <script is:client>
    const form = document.getElementById('contact-form');
  
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
  
      const data = new FormData(form);
  
      const res = await fetch('https://formspree.io/f/xqaqkakv', {
        method: 'POST',
        body: data,
        headers: {
          Accept: 'application/json',
        },
      });
  
      if (res.ok) {
        form.reset();
        alert('✅ Message envoyé avec succès ! Merci pour votre message.');
      } else {
        alert('❌ Une erreur est survenue. Veuillez réessayer.');
      }
    });
  </script>

    <div class="mt-10 border-t pt-6 flex justify-center gap-6 text-primary-dark">
      <a href="https://www.instagram.com/les_tondeuses_de_rouillbouc" target="_blank" rel="noopener noreferrer" class="hover:scale-110 transition">
        <img src="/icons/inst.png" alt="Instagram" class="w-6 h-6" />
      </a>
      <a href="https://www.facebook.com/p/Les-Tondeuses-de-RouillBouc-100050820695835/" target="_blank" rel="noopener noreferrer" class="hover:scale-110 transition">
        <img src="/icons/facebook.png" alt="Facebook" class="w-6 h-6" />
      </a>
      <a href="https://www.tiktok.com/@julie_ecopaturage16360" target="_blank" rel="noopener noreferrer" class="hover:scale-110 transition">
        <img src="/icons/tiktok.png" alt="Tiktok" class="w-6 h-6" />
      </a>
    </div>
    
  </section>
</Layout>
